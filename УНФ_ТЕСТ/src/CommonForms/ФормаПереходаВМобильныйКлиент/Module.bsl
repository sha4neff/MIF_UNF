#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	СистемнаяИнформация = Новый СистемнаяИнформация;
	ИнформацияПрограммыПросмотра = НРег(СистемнаяИнформация.ИнформацияПрограммыПросмотра);
	
	УправлениеНебольшойФирмойСервер.ОтправитьСобытиеСДопДанными("Показана форма перехода в МК", ИнформацияПрограммыПросмотра);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура Декорация1Нажатие(Элемент)
	
	НачалоРаботыСПрограммойСервер.УстановитьСтандартныйИнтерфейс();
	ОбновитьИнтерфейс();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура ПерейтиВGooglePlay()
	
	АдресСтраницы = УправлениеНебольшойФирмойКлиентСервер.ПолучитьАдресПубликацииМобильногоКлиентаВGooglePlay();
	ПерейтиПоНавигационнойСсылке(АдресСтраницы);
	
КонецПроцедуры

&НаКлиенте
Процедура ПерейтиВAppStore()
	
	АдресСтраницы = УправлениеНебольшойФирмойКлиентСервер.ПолучитьАдресПубликацииМобильногоКлиентаВAppStore();
	ПерейтиПоНавигационнойСсылке(АдресСтраницы);
	
КонецПроцедуры

&НаКлиенте
Процедура Установить(Команда)
	
	АдресСтраницы = "";
	
	Если СтрНайти(ИнформацияПрограммыПросмотра, "iphone") <> 0
		ИЛИ СтрНайти(ИнформацияПрограммыПросмотра, "ipod") <> 0 Тогда 
		АдресСтраницы = УправлениеНебольшойФирмойКлиентСервер.ПолучитьАдресПубликацииМобильногоКлиентаВAppStore();
	ИначеЕсли СтрНайти(ИнформацияПрограммыПросмотра, "android") <> 0 Тогда
		АдресСтраницы = УправлениеНебольшойФирмойКлиентСервер.ПолучитьАдресПубликацииМобильногоКлиентаВGooglePlay();
	КонецЕсли;
	
	УправлениеНебольшойФирмойСервер.ОтправитьСобытиеСДопДанными("Нажата кнопка загрузки МК", ИнформацияПрограммыПросмотра);
	
	ПерейтиПоНавигационнойСсылке(АдресСтраницы);
	
КонецПроцедуры

#КонецОбласти
